<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>For My Thỏ 🐰</title>
  <style>
    * {margin:0; padding:0; box-sizing:border-box;}
    body {
      font-family: 'Comic Sans MS', cursive;
      background: linear-gradient(135deg, #ffb6c1, #ffc0cb, #ffe4e1);
      color: #333;
      text-align: center;
      overflow: hidden;
    }
    .hidden {display:none;}

    /* Hiệu ứng fade */
    .fade {animation: fadeIn 1s;}
    @keyframes fadeIn {
      from {opacity:0; transform: scale(0.9);}
      to {opacity:1; transform: scale(1);}
    }

    /* Màn hình mật khẩu */
    #password-screen {
      height:100vh;
      display:flex;
      flex-direction:column;
      justify-content:center;
      align-items:center;
    }
    #password-input {
      padding:10px;
      border-radius:12px;
      border:2px solid #fff;
      font-size:18px;
      text-align:center;
      outline:none;
    }
    #password-btn {
      margin-top:15px;
      padding:10px 20px;
      background:#ff69b4;
      border:none;
      border-radius:20px;
      color:#fff;
      font-size:18px;
      cursor:pointer;
    }

    /* Thư */
    #letter {
      max-width: 600px;
      margin:50px auto;
      padding:20px;
      background:#fff0f5;
      border-radius:20px;
      box-shadow:0 4px 15px rgba(0,0,0,0.2);
      line-height:1.6;
    }

    /* Nút */
    button {
      margin:10px;
      padding:10px 20px;
      font-size:18px;
      border:none;
      border-radius:20px;
      cursor:pointer;
      transition:0.3s;
    }
    .btn-stay {background:#ff69b4; color:white;}
    .btn-leave {background:#dcdcdc; color:black;}
    .btn-next {background:#ff1493; color:white;}

    /* Mini game giận/tha thứ */
    #game button {
      position:relative;
    }
    #forgive {background:#ff69b4; color:white; font-size:20px;}
    #angry {background:#ccc; color:black;}

    /* Hộp quà */
    .gifts {
      display:flex;
      justify-content:center;
      gap:20px;
      margin-top:20px;
    }
    .gift {
      width:120px;
      height:120px;
      background:pink;
      border-radius:20px;
      display:flex;
      align-items:center;
      justify-content:center;
      font-size:50px;
      cursor:pointer;
      transition:transform 0.3s;
    }
    .gift:hover {transform:scale(1.1);}
    .gift-content {
      margin-top:10px;
      font-size:18px;
      font-weight:bold;
    }
  </style>
</head>
<body>

  <!-- Màn hình nhập mật khẩu -->
  <div id="password-screen" class="fade">
    <h2>🔒 Nhập mật khẩu để mở 💌</h2>
    <input id="password-input" type="password" placeholder="Nhập mật khẩu...">
    <button id="password-btn">Mở</button>
    <p id="password-error" style="color:red; margin-top:10px;"></p>
  </div>

  <!-- Phần trái tim + tiếp tục -->
  <div id="hearts-screen" class="hidden fade">
    <h2>❤️ Những trái tim dành cho Thỏ 🐰</h2>
    <p>(Hiệu ứng trái tim nhỏ ghép thành trái tim lớn...)</p>
    <button class="btn-next" onclick="goToLetter()">Tiếp tục</button>
  </div>

  <!-- Bức thư -->
  <div id="letter-screen" class="hidden fade">
    <div id="letter">
      <h3>Thư gửi chị Trần Thị Phương Thảo (Thỏ 🐰)</h3>
      <p>Haizz… Em lại làm chị giận nữa òi 😞<br>
      Khi chị đọc thư này chắc chị vẫn còn đang giận em lắm ha 🥲<br>
      Hong biết đây là lần thứ bao nhiêu trong tháng ròi ấy nhờ… haha.<br>
      Nếu phải liệt kê thì tài năng của em chắc là làm cho chị giận ròi 😅</p>

      <p>Đã vậy cả tối em còn bỏ mặc chị nữa… Thật là tồi tệ, xứng đáng bị xử trảm 😔</p>

      <p>Cũng như mọi lần, em luôn sẽ cho chị được lựa chọn.<br>
      Sau bao nhiêu thứ em làm khiến chị buồn như vậy thì chị sẽ...</p>
    </div>
    <button class="btn-stay" onclick="chooseStay()">Tiếp tục ở lại</button>
    <button class="btn-leave" onclick="chooseLeave()">Rời đi</button>
  </div>

  <!-- Nếu ở lại -->
  <div id="stay-screen" class="hidden fade">
    <div id="letter">
      <p>Vậy ra chị chọn vẫn sẽ ở lại à 😊. Thật tốt quá, em cứ tưởng mình bị vứt bỏ đi rồi chứ.<br>
      Em biết mình vẫn là một đứa tồi tệ, còn nhiều điều chưa tốt cần phải sửa nhiều, nhưng em cũng sẽ cố gắng mà.<br>
      Nên là tha thứ cho em lần này nhaa, em biết lỗi ròi, em đã thực sự hối lỗi rồi, em hong dám nữa đâu.<br>
      Em xin lỗi chị nhiều ❤️</p>
    </div>
    <button class="btn-next" onclick="goToGame()">Tiếp theo</button>
  </div>

  <!-- Nếu rời đi -->
  <div id="leave-screen" class="hidden fade">
    <div id="letter">
      <p>Ra lựa chọn của chị là rời đi à ☺️<br>
      Em biết sớm muộn gì cũng có ngày này mà.<br>
      Em biết thời gian qua chị đã chịu ấm ức nhiều lắm rồi.<br>
      Cảm ơn đã dành nhiều thời gian và ý tốt cho em nha.<br>
      Em xin lỗi vì mọi chuyện.<br>
      Pái paiii 🌷</p>
    </div>
  </div>

  <!-- Mini game giận - tha thứ -->
  <div id="game" class="hidden fade">
    <h2>Chị có tha lỗi cho em hong? 🥺</h2>
    <button id="forgive" onclick="goToGifts()">Tha thứ 💖</button>
    <button id="angry" onclick="moveAngry()">Giận mãi mãi 😡</button>
  </div>

  <!-- Hộp quà -->
  <div id="gift-screen" class="hidden fade">
    <h2>🎁 Chọn 1 món quà cho chị 🐰</h2>
    <div class="gifts">
      <div class="gift" onclick="openGift(1)">🎀</div>
      <div class="gift" onclick="openGift(2)">🎀</div>
      <div class="gift" onclick="openGift(3)">🎀</div>
      <div class="gift" onclick="openGift(4)">🎀</div>
    </div>
    <div id="gift-result"></div>
  </div>

  <!-- Kết thúc -->
  <div id="end-screen" class="hidden fade">
    <h2>🌷 Tha thứ ròi là hong có dận nữa nhaa 🥰🌷</h2>
  </div>

<script>
  const passwordBtn = document.getElementById("password-btn");
  passwordBtn.addEventListener("click", ()=>{
    const val = document.getElementById("password-input").value;
    if(val==="0411"){
      document.getElementById("password-screen").classList.add("hidden");
      document.getElementById("hearts-screen").classList.remove("hidden");
    } else {
      document.getElementById("password-error").innerText="Sai mật khẩu òi 😢";
    }
  });

  function goToLetter(){
    document.getElementById("hearts-screen").classList.add("hidden");
    document.getElementById("letter-screen").classList.remove("hidden");
  }

  function chooseStay(){
    document.getElementById("letter-screen").classList.add("hidden");
    document.getElementById("stay-screen").classList.remove("hidden");
  }
  function chooseLeave(){
    document.getElementById("letter-screen").classList.add("hidden");
    document.getElementById("leave-screen").classList.remove("hidden");
  }

  function goToGame(){
    document.getElementById("stay-screen").classList.add("hidden");
    document.getElementById("game").classList.remove("hidden");
  }

  function moveAngry(){
    const angryBtn = document.getElementById("angry");
    angryBtn.style.position="absolute";
    angryBtn.style.top = Math.random()*300+"px";
    angryBtn.style.left = Math.random()*300+"px";
    const forgiveBtn = document.getElementById("forgive");
    forgiveBtn.style.transform="scale(1.2)";
  }

  function goToGifts(){
    document.getElementById("game").classList.add("hidden");
    document.getElementById("gift-screen").classList.remove("hidden");
  }

  function openGift(num){
    let text="";
    if(num===1) text="💐 Một bó hoa thật đẹp";
    if(num===2) text="🧸 Một con gấu bông thật dễ thương";
    if(num===3) text="🍽️ Đi ăn thật ngon";
    if(num===4) text="🎉 Đi chơiiii";
    document.getElementById("gift-result").innerHTML=`
      <div class="gift-content">${text}</div>
      <button class="btn-next" onclick="end()">Chọn món này</button>
    `;
  }

  function end(){
    document.getElementById("gift-screen").classList.add("hidden");
    document.getElementById("end-screen").classList.remove("hidden");
  }
</script>

</body>
</html>