<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Xin lá»—i chá»‹ Tháº£o ğŸ’Œ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body, html {
      margin:0; padding:0; font-family: "Segoe UI", sans-serif;
      background:#fff0f6; overflow-x:hidden;
    }
    .screen {display:none; text-align:center; padding:20px;}
    .active {display:block;}
    h1 {color:#e91e63;}
    .btn {
      display:inline-block; margin:10px; padding:10px 20px;
      background:#e91e63; color:#fff; border:none; border-radius:8px;
      cursor:pointer; font-size:16px; transition:0.3s;
    }
    .btn:hover {transform:scale(1.1);}
    .heart {
      position:absolute; color:#e91e63; font-size:20px; animation:fly 4s linear infinite;
    }
    @keyframes fly {
      0% {transform:translateY(0) scale(1); opacity:1;}
      100% {transform:translateY(-600px) scale(0.5); opacity:0;}
    }
    .hidden {display:none;}
    .gift-grid {display:grid; grid-template-columns:1fr 1fr; gap:20px; justify-items:center;}
    .gift {
      width:120px; height:120px; background:#ff80ab; border-radius:10px;
      display:flex; align-items:center; justify-content:center;
      color:#fff; font-size:40px; cursor:pointer; position:relative;
    }
    .gift.opened {background:#fff0f6; color:#333; font-size:16px; padding:10px;}
    .confetti {position:fixed; top:0; left:0; width:100%; height:100%; pointer-events:none;}
    .floating-heart {
      position:fixed; font-size:24px; color:#e91e63;
      animation:floatUp 3s linear forwards;
    }
    @keyframes floatUp {
      from {transform:translateY(0); opacity:1;}
      to {transform:translateY(-200px); opacity:0;}
    }
  </style>
</head>
<body>

<!-- Nháº¡c ná»n -->
<audio id="bgmusic" src="bgmusic.mp3" loop></audio>
<button onclick="toggleMusic()" style="position:fixed;top:10px;right:10px;z-index:999" class="btn">ğŸµ</button>

<!-- Trang 1: Tim bay -->
<div id="screen1" class="screen active">
  <h1>ğŸ’– Gá»­i chá»‹ Tháº£o ğŸ°</h1>
  <p>TrÃ¡i tim nÃ y dÃ nh cho chá»‹...</p>
  <button class="btn" onclick="nextScreen(2)">Báº¥m Ä‘á»ƒ sang trang tiáº¿p theo</button>
</div>

<!-- Trang 2: Máº­t kháº©u -->
<div id="screen2" class="screen">
  <h1>ğŸ”‘ Nháº­p máº­t kháº©u</h1>
  <input id="password" type="password" placeholder="Máº­t kháº©u" />
  <button class="btn" onclick="checkPass()">XÃ¡c nháº­n</button>
  <p id="msg"></p>
</div>

<!-- Trang 3: ThÆ° -->
<div id="screen3" class="screen">
  <h1>ğŸ’Œ ThÆ° gá»­i chá»‹ Tháº£o (Thá» ğŸ°)</h1>
  <div id="letter">
    <p>Haizz em láº¡i lÃ m chá»‹ giáº­n ná»¯a Ã²i ğŸ˜ ...</p>
    <p>Em biáº¿t mÃ¬nh tá»“i tá»‡ nhÆ°ng em tháº­t sá»± há»‘i lá»—i, mong chá»‹ tha thá»©...</p>
  </div>
  <button class="btn" onclick="stay()">Tiáº¿p tá»¥c á»Ÿ láº¡i</button>
  <button class="btn" onclick="leave()">Rá»i Ä‘i</button>
  <div id="letterMore" class="hidden">
    <p>Váº­y ra chá»‹ chá»n váº«n sáº½ á»Ÿ láº¡i Ã  ğŸ˜Š ...</p>
    <button class="btn" onclick="nextScreen(4)">Tiáº¿p theo</button>
  </div>
  <div id="letterLeave" class="hidden">
    <p>Ra lá»±a chá»n cá»§a chá»‹ lÃ  rá»i Ä‘i Ã  â˜ºï¸... Pai paiii ğŸŒ·</p>
  </div>
</div>

<!-- Trang 4: Giáº­n/Tha thá»© -->
<div id="screen4" class="screen">
  <h1>Chá»‹ cÃ³ cÃ²n giáº­n em hong? ğŸ¥º</h1>
  <button id="angryBtn" class="btn" onclick="angryMove()">Giáº­n mÃ£i mÃ£i ğŸ˜¡</button>
  <button id="forgiveBtn" class="btn" onclick="goForgive()">Tha thá»© ğŸ’–</button>
</div>

<!-- Trang 5: QuÃ  -->
<div id="screen5" class="screen">
  <h1>ğŸ MÃ³n quÃ  dÃ nh cho chá»‹</h1>
  <div class="gift-grid">
    <div class="gift" data-content="ğŸŒ¸ Má»™t bÃ³ hoa tháº­t Ä‘áº¹p">ğŸ</div>
    <div class="gift" data-content="ğŸ§¸ Má»™t con gáº¥u bÃ´ng tháº­t dá»… thÆ°Æ¡ng">ğŸ</div>
    <div class="gift" data-content="ğŸ² Äi Äƒn tháº­t ngonn">ğŸ</div>
    <div class="gift" data-content="ğŸ¡ Äi chÆ¡iiii">ğŸ</div>
  </div>
  <p id="chooseMsg" class="hidden">âœ¨ Giá» hÃ£y chá»n má»™t pháº§n quÃ  chÃ­nh thá»©c nha âœ¨</p>
</div>

<canvas id="confetti" class="confetti"></canvas>

<script>
let current=1;
function nextScreen(n){
  document.getElementById("screen"+current).classList.remove("active");
  document.getElementById("screen"+n).classList.add("active");
  current=n;
}
function checkPass(){
  let val=document.getElementById("password").value;
  let msg=document.getElementById("msg");
  if(val==="0411"){ nextScreen(3);}
  else if(msg.innerText===""){msg.innerText="Sai Ã²i nháº­p láº¡i Ä‘i";}
  else{msg.innerText="Cá»‘ lÃªn sáº¯p Ä‘Ãºng rá»“i";}
}
function stay(){
  document.getElementById("letterMore").classList.remove("hidden");
}
function leave(){
  document.getElementById("letterLeave").classList.remove("hidden");
}
function angryMove(){
  let btn=document.getElementById("angryBtn");
  btn.style.position="absolute";
  btn.style.top=Math.random()*300+"px";
  btn.style.left=Math.random()*200+"px";
  let f=document.getElementById("forgiveBtn");
  f.style.transform="scale(1.2)";
}
function goForgive(){nextScreen(5);}
let gifts=document.querySelectorAll(".gift");
let opened=0;
gifts.forEach(g=>{
  g.addEventListener("click",()=>{
    if(!g.classList.contains("opened")){
      g.classList.add("opened");
      g.innerText=g.dataset.content;
      opened++;
      if(opened===4){
        document.getElementById("chooseMsg").classList.remove("hidden");
        gifts.forEach(gg=>{
          let b=document.createElement("button");
          b.innerText="Chá»n quÃ  nÃ y";
          b.className="btn";
          b.onclick=()=>selectGift(gg);
          gg.appendChild(b);
        });
      }
    }
  });
});
function selectGift(g){
  gifts.forEach(gg=>{if(gg!==g)gg.style.opacity=0.4;});
  spawnHearts();
  document.getElementById("chooseMsg").innerHTML="ğŸ’Œ Pháº§n quÃ  sáº½ Ä‘Æ°á»£c thá»±c hiá»‡n sá»›m thÃ´i<br>Tha thá»© rá»“i lÃ  hong cÃ³ dáº­n ná»¯a nhaağŸŒ·ğŸ¥°";
}
function spawnHearts(){
  for(let i=0;i<20;i++){
    let h=document.createElement("div");
    h.className="floating-heart";
    h.innerText="ğŸ’–";
    h.style.left=Math.random()*window.innerWidth+"px";
    h.style.top=Math.random()*window.innerHeight+"px";
    document.body.appendChild(h);
    setTimeout(()=>h.remove(),3000);
  }
}
function toggleMusic(){
  let audio=document.getElementById("bgmusic");
  if(audio.paused) audio.play(); else audio.pause();
}
</script>
</body>
</html>